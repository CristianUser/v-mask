!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.VueMask=e.VueMask||{})}(this,function(e){"use strict";function t(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e.value,c=e.dataset,i=c.previousValue,r=void 0===i?"":i,u=c.mask;(t||a&&a!==r&&a.length>r.length)&&(e.value=n(a,u),s(e,"input")),e.dataset.previousValue=a}function a(e,t){e.dataset.mask=t}var n=function(e,t){if(!t)return e;var a=/^([^#ANX]+)/;1==e.length&&a.test(t)&&(e=a.exec(t)[0]+e);for(var n="",s=0,c=0;c<t.length;c++){var i=t.charAt(c);switch(i){case"#":case"A":case"?":case"N":case"X":break;default:e=e.replace(i,"")}}for(var r=0,u=1;u&&r<t.length;++r){var o=e.charAt(r-s),d=t.charAt(r);switch(d){case"#":/\d/.test(o)?n+=o:u=0;break;case"A":/[a-z]/i.test(o)?n+=o:u=0;break;case"N":/[a-z0-9]/i.test(o)?n+=o:u=0;break;case"?":s++;break;case"X":n+=o;break;default:n+=d,o&&o!==d&&(e=" "+e)}}return n},s=function(e,t){var a=document.createEvent("HTMLEvents");a.initEvent(t,!0,!0),e.dispatchEvent(a)},c={bind:function(e,n){a(e,n.value),t(e)},componentUpdated:function(e,n){var s=n.value,c=s!==n.oldValue;c&&a(e,s),t(e,c)}},i=function(e){e.directive("mask",c)};e.default=i,e.VueMaskPlugin=i,e.VueMaskDirective=c,Object.defineProperty(e,"__esModule",{value:!0})});
